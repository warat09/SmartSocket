"use strict";(self.webpackChunkSmartSocket=self.webpackChunkSmartSocket||[]).push([[845],{4845:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(4165),s=n(5861),i=n(885),a=n(2791),o=n(6907),c=n(763),l=n(7689),d=n(9164),u=n(890),h=n(4721),x=n(7621),g=n(9281),Z=n(9836),f=n(3382),j=n(5855),p=n(3994),m=n(3400),S=n(5527),b=n(6812),w=n(5289),v=n(5661),k=n(9157),y=n(1691),C=n(7123),A=n(6151),_=n(5646),N=n(9658),P=n(8904),M=n(9152),R=n(6734),D=n(79),L=n(184),O=[{id:"mac_address",label:"M.A.C Addreess",alignRight:!1},{id:"ip",label:"i.p.",alignRight:!1},{id:"date_node",label:"Date",alignRight:!1},{id:"status_node",label:"status_node",alignRight:!1},{id:""}];function B(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var F=function(){var e=(0,l.s0)(),t=(0,a.useState)([]),n=(0,i.Z)(t,2),F=n[0],I=n[1],W=(0,a.useState)(null),q=(0,i.Z)(W,2),E=(q[0],q[1],(0,a.useState)(0)),z=(0,i.Z)(E,2),H=z[0],J=z[1],Q=(0,a.useState)("asc"),T=(0,i.Z)(Q,2),U=T[0],$=T[1],G=(0,a.useState)([]),K=(0,i.Z)(G,2),V=K[0],X=K[1],Y=(0,a.useState)("mac_address"),ee=(0,i.Z)(Y,2),te=ee[0],ne=ee[1],re=(0,a.useState)(""),se=(0,i.Z)(re,2),ie=se[0],ae=se[1],oe=(0,a.useState)(5),ce=(0,i.Z)(oe,2),le=ce[0],de=ce[1],ue=(0,a.useState)(!1),he=(0,i.Z)(ue,2),xe=he[0],ge=he[1],Ze=(0,a.useState)(""),fe=(0,i.Z)(Ze,2),je=fe[0],pe=fe[1],me=(0,a.useState)(!1),Se=(0,i.Z)(me,2),be=Se[0],we=Se[1],ve=(0,a.useState)({message:"",color:""}),ke=(0,i.Z)(ve,2),ye=ke[0],Ce=ke[1],Ae=a.useState({header:"",body:"",id:0,status:0}),_e=(0,i.Z)(Ae,2),Ne=_e[0],Pe=_e[1],Me=function(e,t){"clickaway"!==t&&we(!1)},Re=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,(0,P.Mk)("/Node/AllMACAddress");case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=H>0?Math.max(0,(1+H)*le-F.length):0,Le=function(e,t,n){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n?(0,c.filter)(e,(function(e){return-1!==e.mac_address.toLowerCase().indexOf(n.toLowerCase())})):r.map((function(e){return e[0]}))}(F,function(e,t){return"desc"===e?function(e,n){return B(e,n,t)}:function(e,n){return-B(e,n,t)}}(U,te),ie),Oe=!Le.length&&!!ie,Be=function(){ge(!1)},Fe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.Q$)("/Node/AllMACAddress/".concat(je));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var t=localStorage.getItem("User");if(null!==window.history.state){var n=window.history.state,r=n.open,s=n.message;1===r&&(Ce({message:s,color:"success"}),we(!0),window.history.replaceState({},"",""))}if(t&&"undefined"!==t){JSON.parse(t);Re()}else e("/login")}),[]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(o.ql,{children:(0,L.jsx)("title",{children:" Node | SmartSocket "})}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)(u.Z,{variant:"h4",sx:{mb:5,mt:2},children:"Socket List"}),(0,L.jsx)(h.Z,{sx:{borderBottomWidth:3,mb:3,borderColor:"black",borderRadius:1}}),(0,L.jsxs)(x.Z,{children:[(0,L.jsx)(R.s,{numSelected:V.length,filterName:ie,onFilterName:function(e){J(0),ae(e.target.value)}}),(0,L.jsx)(M.Z,{children:(0,L.jsx)(g.Z,{sx:{minWidth:800},children:(0,L.jsxs)(Z.Z,{children:[(0,L.jsx)(R.e,{order:U,orderBy:te,headLabel:O,rowCount:F.length,numSelected:V.length,onRequestSort:function(e,t){$(te===t&&"asc"===U?"desc":"asc"),ne(t)},onSelectAllClick:function(e){if(e.target.checked){var t=F.map((function(e){return e.mac_address}));X(t)}else X([])}}),(0,L.jsxs)(f.Z,{children:[Le.slice(H*le,H*le+le).map((function(e){console.log(e);var t=e.mac_address,n=e.ip,r=e.date_node,s=e.status_node,i=-1!==V.indexOf(t);return(0,L.jsxs)(j.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:i,children:[(0,L.jsx)(p.Z,{align:"center",children:t}),(0,L.jsx)(p.Z,{align:"center",children:n}),(0,L.jsx)(p.Z,{align:"center",children:new Date(r).toLocaleString("sv-SE",{timeZone:"Asia/Bangkok"})}),(0,L.jsx)(p.Z,{align:"center",children:s}),(0,L.jsx)(p.Z,{align:"center",children:(0,L.jsx)(m.Z,{size:"large",color:"inherit",onClick:function(e){return function(e,t){pe(t),ge(!0),Pe({header:"Disable",body:"Are you sure want to disable ".concat(t,"?"),id:0,status:0})}(0,t)},children:(0,L.jsx)(D.Z,{icon:"fe:disabled"})})})]},t)})),De>0&&(0,L.jsx)(j.Z,{style:{height:53*De},children:(0,L.jsx)(p.Z,{colSpan:6})})]}),Oe&&(0,L.jsx)(f.Z,{children:(0,L.jsx)(j.Z,{children:(0,L.jsx)(p.Z,{align:"center",colSpan:6,sx:{py:3},children:(0,L.jsxs)(S.Z,{sx:{textAlign:"center"},children:[(0,L.jsx)(u.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,L.jsxs)(u.Z,{variant:"body2",children:["No results found for \xa0",(0,L.jsxs)("strong",{children:['"',ie,'"']}),".",(0,L.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})})]})})}),(0,L.jsx)(b.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:F.length,rowsPerPage:le,page:H,onPageChange:function(e,t){J(t)},onRowsPerPageChange:function(e){J(0),de(parseInt(e.target.value,10))}})]})]}),(0,L.jsxs)(w.Z,{open:xe,onClose:Be,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"500px"}}},children:[(0,L.jsx)(v.Z,{id:"alert-dialog-title",children:Ne.header}),(0,L.jsx)(k.Z,{children:(0,L.jsx)(y.Z,{id:"alert-dialog-description",children:Ne.body})}),(0,L.jsxs)(C.Z,{children:[(0,L.jsx)(A.Z,{onClick:Be,children:"Disagree"}),(0,L.jsx)(A.Z,{onClick:Fe,autoFocus:!0,children:"Agree"})]})]}),(0,L.jsx)(_.Z,{open:be,autoHideDuration:3e3,onClose:Me,children:(0,L.jsxs)(N.Z,{onClose:Me,variant:"filled",severity:ye.color,sx:{width:"100%"},children:[ye.message,"!"]})})]})}}}]);
//# sourceMappingURL=845.46e67164.chunk.js.map