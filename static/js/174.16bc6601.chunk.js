"use strict";(self.webpackChunkSmartSocket=self.webpackChunkSmartSocket||[]).push([[174],{4174:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var n=r(1413),a=r(4165),s=r(5861),i=r(885),l=r(2791),o=r(6907),c=r(763),d=r(7689),u=r(8904),h=r(79),x=r(9164),f=r(3767),Z=r(890),m=r(6151),p=r(8870),j=r(4721),g=r(7621),_=r(9281),v=r(9836),b=r(3382),M=r(5855),S=r(3994),y=r(3400),w=r(5527),A=r(5473),k=r(3786),C=r(6812),N=r(5289),R=r(5661),q=r(9157),W=r(1691),P=r(7123),V=r(9504),I=r(8096),T=r(4925),Q=r(5594),D=r(7071),B=r(8550),O=r(2363),F=r(5646),L=r(9658),E=r(9152),z=r(6734),J=r(2711),G=r(9266),H=r(5290),U=r(184),X=[{id:"Asset_name_assets",label:"Assets",alignRight:!1},{id:"Match_mac_address",label:"MacAddress",alignRight:!1},{id:"Match_room",label:"Room",alignRight:!1},{id:"Match_floor",label:"Floor",alignRight:!1},{id:"Match_sum_used_time",label:"RemainTime",alignRight:!1},{id:"Match_active_datetime",label:"Date",alignRight:!1},{id:"Match_status_rent",label:"Status",alignRight:!1},{id:""}];function K(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}var Y=function(){var e=(0,d.s0)(),t=(0,l.useState)([]),r=(0,i.Z)(t,2),Y=r[0],$=r[1],ee=(0,l.useState)([]),te=(0,i.Z)(ee,2),re=te[0],ne=te[1],ae=(0,l.useState)([]),se=(0,i.Z)(ae,2),ie=se[0],le=se[1],oe=(0,l.useState)([]),ce=(0,i.Z)(oe,2),de=ce[0],ue=ce[1],he=(0,l.useState)(""),xe=(0,i.Z)(he,2),fe=xe[0],Ze=xe[1],me=(0,l.useState)(null),pe=(0,i.Z)(me,2),je=pe[0],ge=pe[1],_e=(0,l.useState)(0),ve=(0,i.Z)(_e,2),be=ve[0],Me=ve[1],Se=(0,l.useState)("asc"),ye=(0,i.Z)(Se,2),we=ye[0],Ae=ye[1],ke=(0,l.useState)([]),Ce=(0,i.Z)(ke,2),Ne=Ce[0],Re=Ce[1],qe=(0,l.useState)("Asset_name_assets"),We=(0,i.Z)(qe,2),Pe=We[0],Ve=We[1],Ie=(0,l.useState)(""),Te=(0,i.Z)(Ie,2),Qe=Te[0],De=Te[1],Be=(0,l.useState)(5),Oe=(0,i.Z)(Be,2),Fe=Oe[0],Le=Oe[1],Ee=(0,l.useState)(!1),ze=(0,i.Z)(Ee,2),Je=ze[0],Ge=ze[1],He=(0,l.useState)(!1),Ue=(0,i.Z)(He,2),Xe=Ue[0],Ke=Ue[1],Ye=(0,l.useState)(!1),$e=(0,i.Z)(Ye,2),et=$e[0],tt=$e[1],rt=(0,l.useState)({}),nt=(0,i.Z)(rt,2),at=nt[0],st=nt[1],it=(0,l.useState)(!1),lt=(0,i.Z)(it,2),ot=lt[0],ct=lt[1],dt=(0,l.useState)({message:"",color:""}),ut=(0,i.Z)(dt,2),ht=ut[0],xt=ut[1],ft=l.useState({header:"",body:"",id:0,status:0}),Zt=(0,i.Z)(ft,2),mt=Zt[0],pt=Zt[1],jt=(0,H.cI)({reValidateMode:"onBlur"}),gt=jt.control,_t=jt.handleSubmit,vt=(jt.watch,jt.reset),bt={asset:{required:"Asset is Required"},node:{required:"Please Select Node"},room:{required:"Room is Required"},floor:{required:"Floor is Required"}},Mt=function(){Ge(!1)},St=function(e,t){"clickaway"!==t&&ct(!1)},yt=be>0?Math.max(0,(1+be)*Fe-re.length):0,wt=function(e,t,r){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r?(0,c.filter)(e,(function(e){return-1!==e.Asset_name_assets.toLowerCase().indexOf(r.toLowerCase())})):n.map((function(e){return e[0]}))}(re,function(e,t){return"desc"===e?function(e,r){return K(e,r,t)}:function(e,r){return-K(e,r,t)}}(we,Pe),Qe),At=!wt.length&&!!Qe,kt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge(null),1===t?(vt({}),tt(!0)):2===t?(Ge(!0),pt({header:"Maintenance",body:"Are you sure send asset to maintenance?",id:1,status:0})):(console.log(2),Ge(!0),pt({header:"Delete",body:"Are you sure want to delete?",id:0,status:0}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==mt.id){e.next=5;break}return e.next=3,(0,u.Qm)("/Match/AllMatching/".concat(at.Match_id_match),fe);case 3:e.next=7;break;case 5:return e.next=7,(0,u.Wp)("/Maintenance/AddMatchMaintenance",fe,at.Match_id_match);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.next=3,(0,u.g8)("/Match/AllMatching",t);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=ue,e.next=8,(0,u.NG)("/Asset/SelectMatchAsset",t);case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=$,e.next=13,(0,u.Mk)("/Node/AllMACAddress");case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=le,e.next=3,(0,u.CQ)("/Node/SelectNode",t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.asset,n=t.node,s=t.room,i=t.floor,e.next=3,(0,u.vm)("/Match/MatchingAssets",fe,r,n,s,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,n,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.editasset,n=t.editnode,s=t.editroom,i=t.editfloor,e.next=3,(0,u.aX)("/Match/AllMatching/".concat(at.Match_id_match),fe,r,n,s,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var t=localStorage.getItem("User");if(null!==window.history.state){var r=window.history.state,n=r.open,a=r.message;1===n&&(xt({message:a,color:"success"}),ct(!0),window.history.replaceState({},"",""))}if(t&&"undefined"!==t){var s=JSON.parse(t);Nt(s.token),Ze(s.token)}else e("/login")}),[]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.ql,{children:(0,U.jsx)("title",{children:" Matching: List | SmartSocket "})}),(0,U.jsxs)(x.Z,{children:[(0,U.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:5,mt:2},children:[(0,U.jsx)(Z.Z,{variant:"h4",gutterBottom:!0,children:"Match List"}),(0,U.jsx)(m.Z,{variant:"contained",startIcon:(0,U.jsx)(p.Z,{component:J.JO,icon:"eva:plus-fill"}),onClick:function(){return Ke(!0)},children:"New Matching"})]}),(0,U.jsx)(j.Z,{sx:{borderBottomWidth:3,mb:2,borderColor:"black",borderRadius:1}}),(0,U.jsxs)(g.Z,{children:[(0,U.jsx)(z.s,{numSelected:Ne.length,filterName:Qe,onFilterName:function(e){Me(0),De(e.target.value)}}),(0,U.jsx)(E.Z,{children:(0,U.jsx)(_.Z,{sx:{minWidth:800},children:(0,U.jsxs)(v.Z,{children:[(0,U.jsx)(z.e,{order:we,orderBy:Pe,headLabel:X,rowCount:re.length,numSelected:Ne.length,onRequestSort:function(e,t){Ae(Pe===t&&"asc"===we?"desc":"asc"),Ve(t)},onSelectAllClick:function(e){if(e.target.checked){var t=re.map((function(e){return e.Asset_name_assets}));Re(t)}else Re([])}}),(0,U.jsxs)(b.Z,{children:[wt.slice(be*Fe,be*Fe+Fe).map((function(e){console.log(e);var t=e.Match_id_match,r=e.Asset_name_assets,n=e.Match_mac_address,a=e.Match_status_rent,s=e.Match_sum_used_time,i=e.Match_active_datetime,l=e.Match_room,o=e.Match_floor,c=-1!==Ne.indexOf(r);return(0,U.jsxs)(M.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:c,children:[(0,U.jsx)(S.Z,{align:"center",children:r}),(0,U.jsx)(S.Z,{align:"center",children:n}),(0,U.jsx)(S.Z,{align:"center",children:l}),(0,U.jsx)(S.Z,{align:"center",children:o}),(0,U.jsx)(S.Z,{align:"center",children:(0,G.Z)(s)}),(0,U.jsx)(S.Z,{align:"center",children:new Date(i).toLocaleString("sv-SE",{timeZone:"Asia/Bangkok"})}),(0,U.jsx)(S.Z,{align:"center",children:a}),(0,U.jsx)(S.Z,{align:"right",children:(0,U.jsx)(y.Z,{size:"large",color:"inherit",onClick:function(e){return function(e,t,r,n,a,s,i){st({Match_id_match:t,Asset_name_assets:r,Match_mac_address:n,Match_room:a,Match_floor:s,Match_status_rent:i}),ge(e.currentTarget)}(e,t,r,n,l,o,a)},children:(0,U.jsx)(h.Z,{icon:"eva:more-vertical-fill"})})})]},r)})),yt>0&&(0,U.jsx)(M.Z,{style:{height:53*yt},children:(0,U.jsx)(S.Z,{colSpan:6})})]}),At&&(0,U.jsx)(b.Z,{children:(0,U.jsx)(M.Z,{children:(0,U.jsx)(S.Z,{align:"center",colSpan:9,sx:{py:3},children:(0,U.jsxs)(w.Z,{sx:{textAlign:"center"},children:[(0,U.jsx)(Z.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,U.jsxs)(Z.Z,{variant:"body2",children:["No results found for \xa0",(0,U.jsxs)("strong",{children:['"',Qe,'"']}),".",(0,U.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})})]})})}),(0,U.jsxs)(A.ZP,{open:Boolean(je),anchorEl:je,onClose:function(){ge(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:["Available"===at.Match_status_rent&&(0,U.jsxs)(k.Z,{onClick:function(){return kt(2)},sx:{color:"warning.main"},children:[(0,U.jsx)(h.Z,{icon:"wpf:maintenance",sx:{mr:1}}),"Maintenance"]}),(0,U.jsxs)(k.Z,{onClick:function(){return kt(1)},children:[(0,U.jsx)(h.Z,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),(0,U.jsxs)(k.Z,{onClick:function(){return kt(0)},sx:{color:"error.main"},children:[(0,U.jsx)(h.Z,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]}),(0,U.jsx)(C.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:re.length,rowsPerPage:Fe,page:be,onPageChange:function(e,t){Me(t)},onRowsPerPageChange:function(e){Me(0),Le(parseInt(e.target.value,10))}})]})]}),(0,U.jsxs)(N.Z,{open:Je,onClose:Mt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"500px"}}},children:[(0,U.jsx)(R.Z,{id:"alert-dialog-title",children:mt.header}),(0,U.jsx)(q.Z,{children:(0,U.jsx)(W.Z,{id:"alert-dialog-description",children:mt.body})}),(0,U.jsxs)(P.Z,{children:[(0,U.jsx)(m.Z,{onClick:Mt,children:"Disagree"}),(0,U.jsx)(m.Z,{onClick:Ct,autoFocus:!0,children:"Agree"})]})]}),(0,U.jsxs)(N.Z,{open:Xe,onClose:function(){Ke(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"1000px",paddingTop:"20px"}}},children:[(0,U.jsx)(R.Z,{id:"form-dialog-title",children:(0,U.jsx)(Z.Z,{variant:"h3",gutterBottom:!0,children:"Create a Matching"})}),(0,U.jsx)(q.Z,{children:(0,U.jsx)(f.Z,{spacing:3,children:(0,U.jsxs)(p.Z,{component:"form",onSubmit:_t(qt),children:[(0,U.jsx)(V.Z,{sx:{pt:4},children:(0,U.jsx)(p.Z,{sx:{m:-1.5},children:(0,U.jsxs)(f.Z,{spacing:3,mb:3,children:[(0,U.jsx)(H.Qr,{control:gt,name:"asset",defaultValue:"",rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsxs)(I.Z,{error:void 0!==r,fullWidth:!0,children:[(0,U.jsx)(T.Z,{id:"demo-simple-select-label",children:"Assets"}),(0,U.jsxs)(Q.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,labelId:"demo-simple-select-label",label:"Assets"},t),{},{onChange:function(e){t.onChange(parseInt(e.target.value)),Rt(e.target.value)},children:[(0,U.jsx)(k.Z,{value:"",children:(0,U.jsx)("em",{children:"None"})}),de.map((function(e){return(0,U.jsx)(k.Z,{value:e.Assets_id_assets,children:e.Assets_name_assets},e.Assets_id_assets)}))]})),(0,U.jsx)(D.Z,{children:r?bt.asset[r.type]:""})]})}}),(0,U.jsx)(H.Qr,{control:gt,name:"node",defaultValue:"",rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsxs)(I.Z,{error:void 0!==r,fullWidth:!0,children:[(0,U.jsx)(T.Z,{id:"demo-simple-select-label",children:"Node"}),(0,U.jsxs)(Q.Z,(0,n.Z)((0,n.Z)({},t),{},{fullWidth:!0,labelId:"demo-simple-select-label",label:"Node",error:void 0!==r,children:[(0,U.jsx)(k.Z,{value:"",children:(0,U.jsx)("em",{children:"None"})}),ie.map((function(e){return(0,U.jsx)(k.Z,{value:e.Node_mac_address,children:e.Node_mac_address},e.Node_mac_address)}))]})),(0,U.jsx)(D.Z,{children:r?bt.node[r.type]:""})]})}}),(0,U.jsx)(H.Qr,{control:gt,name:"room",defaultValue:"",rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsx)(B.Z,(0,n.Z)((0,n.Z)({},t),{},{label:"Room",type:"text",error:void 0!==r,helperText:r?bt.room[r.type]:""}))}}),(0,U.jsx)(H.Qr,{control:gt,name:"floor",defaultValue:"",rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsx)(B.Z,(0,n.Z)((0,n.Z)({},t),{},{type:"text",fullWidth:!0,label:"Floor",error:void 0!==r,helperText:r?bt.floor[r.type]:""}))}})]})})}),(0,U.jsx)(j.Z,{}),(0,U.jsx)(O.Z,{children:(0,U.jsx)(m.Z,{fullWidth:!0,variant:"text",type:"submit",children:"Create a new user"})})]})})})]}),(0,U.jsxs)(N.Z,{open:et,onClose:function(){tt(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"1000px",paddingTop:"20px"}}},children:[(0,U.jsx)(R.Z,{id:"form-dialog-title",children:(0,U.jsx)(Z.Z,{sx:{paddingLeft:"30px",paddingTop:"10px"},variant:"h4",gutterBottom:!0,children:"Edit Matching"})}),(0,U.jsx)(q.Z,{children:(0,U.jsxs)(p.Z,{component:"form",onSubmit:_t(Wt),children:[(0,U.jsx)(V.Z,{sx:{pt:4},children:(0,U.jsx)(p.Z,{sx:{m:-1.5},children:(0,U.jsxs)(f.Z,{spacing:2,mb:3,children:[(0,U.jsx)(H.Qr,{control:gt,name:"editasset",defaultValue:at.Asset_name_assets,rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsx)(B.Z,(0,n.Z)((0,n.Z)({},t),{},{type:"text",fullWidth:!0,label:"Asset Name",defaultValue:at.Asset_name_assets,InputProps:{readOnly:!0},error:void 0!==r,helperText:r?bt.asset[r.type]:""}))}}),(0,U.jsx)(H.Qr,{control:gt,name:"editnode",defaultValue:at.Match_mac_address,rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsxs)(I.Z,{error:void 0!==r,fullWidth:!0,children:[(0,U.jsx)(T.Z,{id:"demo-simple-select-label",children:"Node"}),(0,U.jsxs)(Q.Z,(0,n.Z)((0,n.Z)({},t),{},{fullWidth:!0,labelId:"demo-simple-select-label",label:"Node",defaultValue:at.Match_mac_address,error:void 0!==r,children:[(0,U.jsx)(k.Z,{value:"",children:(0,U.jsx)("em",{children:"None"})}),Y.map((function(e){return(0,U.jsx)(k.Z,{value:e.mac_address,children:e.mac_address},e.mac_address)}))]})),(0,U.jsx)(D.Z,{children:r?bt.node[r.type]:""})]})}}),(0,U.jsx)(H.Qr,{control:gt,name:"editroom",defaultValue:at.Match_room,rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsx)(B.Z,(0,n.Z)((0,n.Z)({},t),{},{label:"Room",type:"text",error:void 0!==r,defaultValue:at.Match_room,helperText:r?bt.room[r.type]:""}))}}),(0,U.jsx)(H.Qr,{control:gt,name:"editfloor",defaultValue:at.Match_floor,rules:{required:!0},render:function(e){var t=e.field,r=e.fieldState.error;return(0,U.jsx)(B.Z,(0,n.Z)((0,n.Z)({},t),{},{type:"text",fullWidth:!0,label:"Floor",defaultValue:at.Match_floor,error:void 0!==r,helperText:r?bt.floor[r.type]:""}))}})]})})}),(0,U.jsx)(j.Z,{}),(0,U.jsx)(O.Z,{children:(0,U.jsx)(m.Z,{fullWidth:!0,variant:"text",type:"submit",children:"Save Changes"})})]})})]}),(0,U.jsx)(F.Z,{open:ot,autoHideDuration:3e3,onClose:St,children:(0,U.jsxs)(L.Z,{onClose:St,variant:"filled",severity:ht.color,sx:{width:"100%"},children:[ht.message,"!"]})})]})}}}]);
//# sourceMappingURL=174.16bc6601.chunk.js.map