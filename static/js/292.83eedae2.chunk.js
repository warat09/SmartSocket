"use strict";(self.webpackChunkSmartSocket=self.webpackChunkSmartSocket||[]).push([[292],{8292:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var n=r(4165),i=r(5861),s=r(885),a=r(1413),o=r(6907),l=r(2791),c=r(7689),d=r(8904),h=r(5527),p=r(8870),x=r(9164),u=r(3609),g=r(6934),m=r(1979),Z=r(7621),f=r(6647),j=r(9504),v=r(3767),b=r(890),y=r(3044),k=r(8523),w=r(184),S=(0,g.ZP)(Z.Z)((function(e){e.theme;return{overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(210.04deg, ".concat("#16395e"," -50.94%, rgba(144, 202, 249, 0) 83.49%)"),borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(140.9deg, ".concat("#16395e"," -14.02%, rgba(144, 202, 249, 0) 70.50%)"),borderRadius:"50%",top:-160,right:-130}}}));function C(e){e.difference,e.positive;var t=e.sx,r=e.value,n=e.topic,i=e.icon;return(0,w.jsx)(S,{sx:t,children:(0,w.jsx)(f.Z,{children:(0,w.jsx)(j.Z,{children:(0,w.jsxs)(v.Z,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:4,children:[(0,w.jsxs)(v.Z,{spacing:1,children:[(0,w.jsx)(b.Z,{color:"text.secondary",variant:"overline",children:n}),(0,w.jsx)(b.Z,{variant:"h4",children:r})]}),(0,w.jsx)(y.Z,{sx:{backgroundColor:"#16395e",height:56,width:56},children:(0,w.jsx)(k.Z,{icon:i,sx:{width:40,height:40}})})]})})})})}var z=r(3967),A=r(9585),W=r(9286),_=r.n(W),D=r(2065);var M=r(3496),O=(0,g.ZP)("div")((function(e){var t=e.theme;return{height:372,marginTop:t.spacing(10),"& .apexcharts-canvas svg":{height:372},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(300,"px) !important")}}}));function R(e){var t=e.chartData,r=e.sx,n=(0,z.Z)(),i=t.map((function(e){return e.departure})),s=t.map((function(e){return Number(e.total)})),a=function(e){var t=(0,z.Z)(),r={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},n={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},i={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark],chart:{toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{x:{show:!1}},legend:{show:!0,fontSize:String(13),position:"top",horizontalAlign:"right",markers:{radius:12},fontWeight:500,itemMargin:{horizontal:12},labels:{colors:t.palette.text.primary}},plotOptions:{bar:{borderRadius:4,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:n,total:r}}},radialBar:{track:{strokeWidth:"100%",background:(0,D.Fq)(t.palette.grey[500],.16)},dataLabels:{value:n,total:r}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return _()(i,e)}({labels:i,stroke:{colors:[n.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},dataLabels:{enabled:!0,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return Number(e)},title:{formatter:function(e){return"".concat(e)}}}},plotOptions:{pie:{donut:{labels:{show:!0}}}}});return(0,w.jsxs)(Z.Z,{sx:r,children:[(0,w.jsx)(A.Z,{title:"Total Departure Rent"}),(0,w.jsx)(O,{dir:"ltr",children:(0,w.jsx)(M.Z,{type:"donut",series:s,options:a,height:280})})]})}var F=r(4721),L=r(2363),T=r(6151),I=r(9259);function H(e){var t=e.chartSeries,r=e.sx,n=function(){var e=(0,z.Z)();return{chart:{background:"transparent",stacked:!1,toolbar:{show:!1}},colors:[e.palette.primary.main,(0,D.Fq)(e.palette.primary.main,.25)],dataLabels:{enabled:!1},fill:{opacity:1,type:"solid"},grid:{borderColor:e.palette.divider,strokeDashArray:2,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},legend:{show:!1},plotOptions:{bar:{columnWidth:"40px"}},stroke:{colors:["transparent"],show:!0,width:2},theme:{mode:e.palette.mode},xaxis:{axisBorder:{color:e.palette.divider,show:!0},axisTicks:{color:e.palette.divider,show:!0},categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{offsetY:5,style:{colors:e.palette.text.secondary}}},yaxis:{labels:{formatter:function(e){return e>0?"".concat(e," Assets"):"".concat(e)},offsetX:-10,style:{colors:e.palette.text.secondary}}}}}(),i=(0,c.s0)();return(0,w.jsxs)(Z.Z,{sx:r,children:[(0,w.jsx)(A.Z,{title:"Month Maintenance"}),(0,w.jsx)(j.Z,{children:(0,w.jsx)(M.Z,{height:350,options:n,series:t,type:"bar",width:"100%"})}),(0,w.jsx)(F.Z,{}),(0,w.jsx)(L.Z,{sx:{justifyContent:"flex-end"},children:(0,w.jsx)(T.Z,{sx:{paddingLeft:3},color:"inherit",endIcon:(0,w.jsx)(I.Z,{fontSize:"small"}),size:"small",onClick:function(){return i("/app/admin/maintenance")},children:"Overview"})})]})}var B=r(9836),J=r(6890),N=r(5855),q=r(3994),P=r(3382),E=r(9266);function V(e){var t=e.orders,r=void 0===t?[]:t,n=e.sx,i=e.title;return(0,w.jsxs)(Z.Z,{sx:n,children:[(0,w.jsx)(A.Z,{title:i}),(0,w.jsx)(p.Z,{sx:{minWidth:700},children:(0,w.jsxs)(B.Z,{children:[(0,w.jsx)(J.Z,{children:(0,w.jsxs)(N.Z,{children:[(0,w.jsx)(q.Z,{children:"Assets"}),(0,w.jsx)(q.Z,{children:"Socket"}),(0,w.jsx)(q.Z,{sortDirection:"asc",children:"Remaining time"}),(0,w.jsx)(q.Z,{children:"Status Rent"})]})}),(0,w.jsx)(P.Z,{children:r.map((function(e){return(0,w.jsxs)(N.Z,{hover:!0,children:[(0,w.jsx)(q.Z,{children:e.Asset_name_assets}),(0,w.jsx)(q.Z,{children:e.Match_mac_address}),(0,w.jsx)(q.Z,{children:(0,E.Z)(e.Match_sum_used_time)}),(0,w.jsx)(q.Z,{children:e.Match_status_rent})]},e.Asset_name_assets)}))})]})}),(0,w.jsx)(F.Z,{}),(0,w.jsx)(L.Z,{sx:{justifyContent:"flex-end"},children:(0,w.jsx)(T.Z,{color:"inherit",endIcon:(0,w.jsx)(I.Z,{fontSize:"small"}),size:"small",variant:"text",children:"View all"})})]})}function Y(e){var t=e.orders,r=void 0===t?[]:t,n=e.sx,i=e.title;return(0,w.jsxs)(Z.Z,{sx:n,children:[(0,w.jsx)(A.Z,{title:i}),(0,w.jsx)(p.Z,{sx:{minWidth:700},children:(0,w.jsxs)(B.Z,{children:[(0,w.jsx)(J.Z,{children:(0,w.jsxs)(N.Z,{children:[(0,w.jsx)(q.Z,{children:"Assets"}),(0,w.jsx)(q.Z,{children:"Remaining time"}),(0,w.jsx)(q.Z,{sortDirection:"desc",children:"Date"})]})}),(0,w.jsx)(P.Z,{children:r.map((function(e){return(0,w.jsxs)(N.Z,{hover:!0,children:[(0,w.jsx)(q.Z,{children:e.name_assets}),(0,w.jsx)(q.Z,{children:e.maintenance?"\u0e04\u0e27\u0e23\u0e2a\u0e48\u0e07\u0e0b\u0e48\u0e2d\u0e21":"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e0b\u0e48\u0e2d\u0e21"}),(0,w.jsx)(q.Z,{children:new Date(e.date_assets).toLocaleString("sv-SE",{timeZone:"Asia/Bangkok"})})]},e.name_assets)}))})]})}),(0,w.jsx)(F.Z,{}),(0,w.jsx)(L.Z,{sx:{justifyContent:"flex-end"},children:(0,w.jsx)(T.Z,{color:"inherit",endIcon:(0,w.jsx)(I.Z,{fontSize:"small"}),size:"small",variant:"text",children:"View all"})})]})}(0,g.ZP)(h.Z)((function(e){var t=e.theme;return(0,a.Z)((0,a.Z)({},t.typography.body2),{},{textAlign:"center",color:t.palette.text.secondary,height:60,lineHeight:"60px"})})),(0,m.Z)({palette:{mode:"dark"}}),(0,m.Z)({palette:{mode:"light"}});var U=function(){var e=(0,c.s0)(),t=(0,l.useState)([]),r=(0,s.Z)(t,2),a=r[0],h=r[1],g=(0,l.useState)([]),m=(0,s.Z)(g,2),Z=m[0],f=m[1],j=(0,l.useState)([]),v=(0,s.Z)(j,2),b=v[0],y=v[1],k=(0,l.useState)(""),S=(0,s.Z)(k,2),z=(S[0],S[1],(0,l.useState)([])),A=(0,s.Z)(z,2),W=A[0],_=A[1],D=(0,l.useState)([]),M=(0,s.Z)(D,2),O=M[0],F=M[1],L=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Ll)("/Dashboard/AllDashboard",t);case 2:r=e.sent,h(r.countall),f(r.remainingtime),y(r.maintenance),_(r.totaldeparturerent),F(r.totalchart),console.log("ddddddddd",W);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var t=localStorage.getItem("User");if(t&&"undefined"!==t){var r=JSON.parse(t);L(r.token)}else e("/login")}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.ql,{children:(0,w.jsx)("title",{children:" Dashboard | SmartSocket "})}),(0,w.jsx)(p.Z,{component:"main",sx:{pt:3},children:(0,w.jsx)(x.Z,{maxWidth:"xl",children:(0,w.jsxs)(u.Z,{container:!0,spacing:3,children:[a.map((function(e,t){return(0,w.jsx)(u.Z,{xs:12,sm:6,lg:3,children:(0,w.jsx)(C,{difference:12,positive:!0,sx:{height:"100%"},value:e.amount,topic:e.topic,icon:e.icon})})})),(0,w.jsx)(u.Z,{xs:12,md:12,lg:8,children:(0,w.jsx)(H,{chartSeries:O})}),(0,w.jsx)(u.Z,{xs:12,md:12,lg:4,children:(0,w.jsx)(R,{chartData:W,sx:{height:"100%"}})}),(0,w.jsx)(u.Z,{xs:12,md:12,lg:6,children:(0,w.jsx)(V,{title:"Maintenance is almost due",orders:Z,sx:{height:"100%"}})}),(0,w.jsx)(u.Z,{xs:12,md:12,lg:6,children:(0,w.jsx)(Y,{title:"Maintenance",orders:b,sx:{height:"100%"}})})]})})})]})}}}]);
//# sourceMappingURL=292.83eedae2.chunk.js.map