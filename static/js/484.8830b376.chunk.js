"use strict";(self.webpackChunkSmartSocket=self.webpackChunkSmartSocket||[]).push([[484],{3484:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var a=t(4165),r=t(5861),s=t(885),i=t(2791),c=t(6907),o=t(763),l=t(7689),d=t(9164),u=t(890),h=t(4721),f=t(7621),g=t(9281),x=t(9836),_=t(3382),Z=t(5855),m=t(3994),j=t(5527),S=t(6812),p=t(8904),b=t(9152),v=t(6734),T=t(184),k=[{id:"Asset_name_assets",label:"Assets",alignRight:!1},{id:"Match_mac_address",label:"MacAddress",alignRight:!1},{id:"Transaction_status_transaction",label:"StatusTransaction",alignRight:!1},{id:"Transaction_time_used",label:"TimeUsed",alignRight:!1},{id:"Transaction_time_update",label:"TimeUpdate",alignRight:!1},{id:"Transaction_on_date",label:"On_Date",alignRight:!1},{id:"Transaction_off_date",label:"Off_Date",alignRight:!1}];function w(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}var A=function(){var e=(0,l.s0)(),n=(0,i.useState)([]),t=(0,s.Z)(n,2),A=t[0],R=t[1],C=(0,i.useState)(null),M=(0,s.Z)(C,2),y=(M[0],M[1],(0,i.useState)(0)),P=(0,s.Z)(y,2),O=P[0],N=P[1],L=(0,i.useState)("asc"),B=(0,s.Z)(L,2),D=B[0],I=B[1],U=(0,i.useState)([]),q=(0,s.Z)(U,2),E=q[0],F=q[1],W=(0,i.useState)("Asset_name_assets"),H=(0,s.Z)(W,2),J=H[0],z=H[1],G=(0,i.useState)(""),K=(0,s.Z)(G,2),Q=K[0],V=K[1],X=(0,i.useState)(5),Y=(0,s.Z)(X,2),$=Y[0],ee=Y[1],ne=function(e){var n=Math.floor(e/1e3),t=Math.floor(n/60),a=Math.floor(t/60),r=n%60,s=t%60,i="1s";return a%24>0?i="".concat(a," Hours ").concat(s,"Minutes ").concat(r," Seconds"):s>0?i="".concat(s," Minutes ").concat(r," Seconds"):r>0&&(i="".concat(r," Seconds")),i},te=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=R,e.next=3,(0,p.fo)("/Transaction/AllTransaction",n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=O>0?Math.max(0,(1+O)*$-A.length):0,re=function(e,n,t){var a=e.map((function(e,n){return[e,n]}));return a.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),t?(0,o.filter)(e,(function(e){return-1!==e.Asset_name_assets.toLowerCase().indexOf(t.toLowerCase())})):a.map((function(e){return e[0]}))}(A,function(e,n){return"desc"===e?function(e,t){return w(e,t,n)}:function(e,t){return-w(e,t,n)}}(D,J),Q),se=!re.length&&!!Q;return(0,i.useEffect)((function(){var n=localStorage.getItem("User");if(n&&"undefined"!==n){var t=JSON.parse(n);te(t.token)}else e("/login")}),[]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(c.ql,{children:(0,T.jsx)("title",{children:" Transaction | SmartSocket "})}),(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(u.Z,{variant:"h4",sx:{mb:5,mt:2},children:"Transaction"}),(0,T.jsx)(h.Z,{sx:{borderBottomWidth:3,mb:3,borderColor:"black",borderRadius:1}}),(0,T.jsxs)(f.Z,{children:[(0,T.jsx)(v.s,{numSelected:E.length,filterName:Q,onFilterName:function(e){N(0),V(e.target.value)}}),(0,T.jsx)(b.Z,{children:(0,T.jsx)(g.Z,{sx:{minWidth:800},children:(0,T.jsxs)(x.Z,{children:[(0,T.jsx)(v.e,{order:D,orderBy:J,headLabel:k,rowCount:A.length,numSelected:E.length,onRequestSort:function(e,n){I(J===n&&"asc"===D?"desc":"asc"),z(n)},onSelectAllClick:function(e){if(e.target.checked){var n=A.map((function(e){return e.Transaction_id_txn}));F(n)}else F([])}}),(0,T.jsxs)(_.Z,{children:[re.slice(O*$,O*$+$).map((function(e){console.log(e);var n=e.Transaction_id_txn,t=e.Asset_name_assets,a=e.Match_mac_address,r=e.Transaction_status_transaction,s=e.Transaction_time_used,i=e.Transaction_time_update,c=e.Transaction_on_date,o=e.Transaction_off_date,l=-1!==E.indexOf(n);return(0,T.jsxs)(Z.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:l,children:[(0,T.jsx)(m.Z,{align:"center",children:t}),(0,T.jsx)(m.Z,{align:"center",children:a}),(0,T.jsx)(m.Z,{align:"center",children:r}),(0,T.jsx)(m.Z,{align:"center",children:ne(s)}),(0,T.jsx)(m.Z,{align:"center",children:new Date(i).toLocaleString("sv-SE",{timeZone:"Asia/Bangkok"})}),(0,T.jsx)(m.Z,{align:"center",children:c}),(0,T.jsx)(m.Z,{align:"center",children:o})]},n)})),ae>0&&(0,T.jsx)(Z.Z,{style:{height:53*ae},children:(0,T.jsx)(m.Z,{colSpan:6})})]}),se&&(0,T.jsx)(_.Z,{children:(0,T.jsx)(Z.Z,{children:(0,T.jsx)(m.Z,{align:"center",colSpan:9,sx:{py:3},children:(0,T.jsxs)(j.Z,{sx:{textAlign:"center"},children:[(0,T.jsx)(u.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,T.jsxs)(u.Z,{variant:"body2",children:["No results found for \xa0",(0,T.jsxs)("strong",{children:['"',Q,'"']}),".",(0,T.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})})]})})}),(0,T.jsx)(S.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:A.length,rowsPerPage:$,page:O,onPageChange:function(e,n){N(n)},onRowsPerPageChange:function(e){N(0),ee(parseInt(e.target.value,10))}})]})]})]})}}}]);
//# sourceMappingURL=484.8830b376.chunk.js.map