"use strict";(self.webpackChunkSmartSocket=self.webpackChunkSmartSocket||[]).push([[206],{206:function(e,r,t){t.r(r),t.d(r,{default:function(){return K}});var n=t(1413),i=t(4165),s=t(5861),a=t(885),l=t(2791),d=t(6907),o=t(763),c=t(7689),u=t(8904),h=t(79),x=t(9164),f=t(3767),p=t(890),Z=t(6151),m=t(8870),j=t(4721),g=t(7621),v=t(9281),b=t(9836),S=t(3382),y=t(5855),w=t(3994),_=t(3400),k=t(5527),A=t(6812),C=t(5473),R=t(3786),q=t(5289),P=t(5661),W=t(9157),M=t(1691),N=t(7123),V=t(9504),D=t(8550),E=t(8096),I=t(4925),T=t(5594),B=t(7071),L=t(2363),O=t(5646),Q=t(9658),J=t(9152),z=t(6734),F=t(2711),H=t(5290),U=t(184),$=[{id:"name_assets",label:"Assets",alignRight:!1},{id:"rfid_address",label:"Rfid Address",alignRight:!1},{id:"expire_hour",label:"Expired",alignRight:!1},{id:"date_assets",label:"Date",alignRight:!1},{id:"maintenance",label:"Maintenance",alignRight:!1},{id:""}];function G(e,r,t){return r[t]<e[t]?-1:r[t]>e[t]?1:0}var K=function(){var e=(0,c.s0)(),r=(0,l.useState)([]),t=(0,a.Z)(r,2),K=t[0],X=t[1],Y=(0,l.useState)([]),ee=(0,a.Z)(Y,2),re=ee[0],te=ee[1],ne=(0,l.useState)(""),ie=(0,a.Z)(ne,2),se=ie[0],ae=ie[1],le=(0,l.useState)(null),de=(0,a.Z)(le,2),oe=de[0],ce=de[1],ue=(0,l.useState)(0),he=(0,a.Z)(ue,2),xe=he[0],fe=he[1],pe=(0,l.useState)("asc"),Ze=(0,a.Z)(pe,2),me=Ze[0],je=Ze[1],ge=(0,l.useState)([]),ve=(0,a.Z)(ge,2),be=ve[0],Se=ve[1],ye=(0,l.useState)("name_assets"),we=(0,a.Z)(ye,2),_e=we[0],ke=we[1],Ae=(0,l.useState)(""),Ce=(0,a.Z)(Ae,2),Re=Ce[0],qe=Ce[1],Pe=(0,l.useState)(5),We=(0,a.Z)(Pe,2),Me=We[0],Ne=We[1],Ve=(0,l.useState)(!1),De=(0,a.Z)(Ve,2),Ee=De[0],Ie=De[1],Te=(0,l.useState)(!1),Be=(0,a.Z)(Te,2),Le=Be[0],Oe=Be[1],Qe=(0,l.useState)(!1),Je=(0,a.Z)(Qe,2),ze=Je[0],Fe=Je[1],He=(0,l.useState)({}),Ue=(0,a.Z)(He,2),$e=Ue[0],Ge=Ue[1],Ke=(0,l.useState)(!1),Xe=(0,a.Z)(Ke,2),Ye=Xe[0],er=Xe[1],rr=(0,l.useState)({message:"",color:""}),tr=(0,a.Z)(rr,2),nr=tr[0],ir=tr[1],sr=l.useState({header:"",body:"",id:0,status:0}),ar=(0,a.Z)(sr,2),lr=ar[0],dr=ar[1],or=(0,H.cI)({reValidateMode:"onBlur"}),cr=or.control,ur=or.handleSubmit,hr=(or.watch,or.reset),xr={asset:{required:"Name Assets is Required"},rfid:{required:"Please Select Rfid Address"},expiration:{required:"Expiration time is Required"}},fr=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X,e.next=3,(0,u.Vh)("/Asset/AllAsset",r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),pr=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,(0,u.JJ)("/Rfid/SelectRfidAsset");case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Zr=function(){Ie(!1)},mr=function(e,r){"clickaway"!==r&&er(!1)},jr=xe>0?Math.max(0,(1+xe)*Me-K.length):0,gr=function(e,r,t){var n=e.map((function(e,r){return[e,r]}));return n.sort((function(e,t){var n=r(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t?(0,o.filter)(e,(function(e){return-1!==e.name_assets.toLowerCase().indexOf(t.toLowerCase())})):n.map((function(e){return e[0]}))}(K,function(e,r){return"desc"===e?function(e,t){return G(e,t,r)}:function(e,t){return-G(e,t,r)}}(me,_e),Re),vr=!gr.length&&!!Re,br=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(null),1===r?(hr({}),Fe(!0)):(Ie(!0),dr({header:"Delete",body:"Are you sure want to delete?",id:0,status:0}));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Sr=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.ce)("/Asset/AllAsset/".concat($e.id_assets),se);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yr=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){var t,n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.nameassets,n=r.rfid,s=r.expirehour,e.next=3,(0,u.q$)("/Asset/AddAsset",se,t,n,s);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),wr=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){var t,n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.editassetname,n=r.editrfid,s=r.editexpirehour,e.next=3,(0,u.dQ)("/Asset/AllAsset/".concat($e.rfid_address),t,n,s);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var r=localStorage.getItem("User");if(null!==window.history.state){var t=window.history.state,n=t.open,i=t.message;1===n&&(ir({message:i,color:"success"}),er(!0),window.history.replaceState({},"",""))}if(r&&"undefined"!==r){var s=JSON.parse(r);fr(s.token),pr(s.token),ae(s.token)}else e("/login")}),[]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(d.ql,{children:(0,U.jsx)("title",{children:" Asset: List | SmartSocket "})}),(0,U.jsxs)(x.Z,{children:[(0,U.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:5,mt:2},children:[(0,U.jsx)(p.Z,{variant:"h4",gutterBottom:!0,children:"Asset List"}),(0,U.jsx)(Z.Z,{variant:"contained",startIcon:(0,U.jsx)(m.Z,{component:F.JO,icon:"eva:plus-fill"}),onClick:function(){return Oe(!0)},children:"New Asset"})]}),(0,U.jsx)(j.Z,{sx:{borderBottomWidth:3,mb:3,borderColor:"black",borderRadius:1}}),(0,U.jsxs)(g.Z,{children:[(0,U.jsx)(z.s,{numSelected:be.length,filterName:Re,onFilterName:function(e){fe(0),qe(e.target.value)}}),(0,U.jsx)(J.Z,{children:(0,U.jsx)(v.Z,{sx:{minWidth:800},children:(0,U.jsxs)(b.Z,{children:[(0,U.jsx)(z.e,{order:me,orderBy:_e,headLabel:$,rowCount:K.length,numSelected:be.length,onRequestSort:function(e,r){je(_e===r&&"asc"===me?"desc":"asc"),ke(r)},onSelectAllClick:function(e){if(e.target.checked){var r=K.map((function(e){return e.name_assets}));Se(r)}else Se([])}}),(0,U.jsxs)(S.Z,{children:[gr.slice(xe*Me,xe*Me+Me).map((function(e){var r=e.id_assets,t=e.name_assets,n=e.expire_hour,i=e.date_assets,s=(e.status_assets,e.maintenance),a=e.rfid_address,l=-1!==be.indexOf(t);return console.log(e),(0,U.jsxs)(y.Z,{hover:!0,tabIndex:-1,role:"checkbox",selected:l,children:[(0,U.jsx)(w.Z,{align:"center",children:t}),(0,U.jsx)(w.Z,{align:"center",children:a}),(0,U.jsxs)(w.Z,{align:"center",children:[n," Hour"]}),(0,U.jsx)(w.Z,{align:"center",children:new Date(i).toLocaleString("sv-SE",{timeZone:"Asia/Bangkok"})}),(0,U.jsx)(w.Z,{align:"center",children:s?"\u0e04\u0e27\u0e23\u0e2a\u0e48\u0e07\u0e0b\u0e48\u0e2d\u0e21":"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e0b\u0e48\u0e2d\u0e21"}),(0,U.jsx)(w.Z,{align:"right",children:(0,U.jsx)(_.Z,{size:"large",color:"inherit",onClick:function(e){return function(e,r,t,n,i){Ge({id_assets:r,name_assets:t,expire_hour:n,rfid_address:i}),ce(e.currentTarget)}(e,r,t,n,a)},children:(0,U.jsx)(h.Z,{icon:"eva:more-vertical-fill"})})})]},r)})),jr>0&&(0,U.jsx)(y.Z,{style:{height:53*jr},children:(0,U.jsx)(w.Z,{colSpan:6})})]}),vr&&(0,U.jsx)(S.Z,{children:(0,U.jsx)(y.Z,{children:(0,U.jsx)(w.Z,{align:"center",colSpan:7,sx:{py:3},children:(0,U.jsxs)(k.Z,{sx:{textAlign:"center"},children:[(0,U.jsx)(p.Z,{variant:"h6",paragraph:!0,children:"Not found"}),(0,U.jsxs)(p.Z,{variant:"body2",children:["No results found for \xa0",(0,U.jsxs)("strong",{children:['"',Re,'"']}),".",(0,U.jsx)("br",{})," Try checking for typos or using complete words."]})]})})})})]})})}),(0,U.jsx)(A.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:K.length,rowsPerPage:Me,page:xe,onPageChange:function(e,r){fe(r)},onRowsPerPageChange:function(e){fe(0),Ne(parseInt(e.target.value,10))}})]})]}),(0,U.jsxs)(C.ZP,{open:Boolean(oe),anchorEl:oe,onClose:function(){ce(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[(0,U.jsxs)(R.Z,{onClick:function(){return br(1)},children:[(0,U.jsx)(h.Z,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),(0,U.jsxs)(R.Z,{onClick:function(){return br(0)},sx:{color:"error.main"},children:[(0,U.jsx)(h.Z,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]}),(0,U.jsxs)(q.Z,{open:Ee,onClose:Zr,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"500px"}}},children:[(0,U.jsx)(P.Z,{id:"alert-dialog-title",children:lr.header}),(0,U.jsx)(W.Z,{children:(0,U.jsx)(M.Z,{id:"alert-dialog-description",children:lr.body})}),(0,U.jsxs)(N.Z,{children:[(0,U.jsx)(Z.Z,{onClick:Zr,children:"Disagree"}),(0,U.jsx)(Z.Z,{onClick:Sr,autoFocus:!0,children:"Agree"})]})]}),(0,U.jsxs)(q.Z,{open:Le,onClose:function(){Oe(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"1000px",paddingTop:"20px"}}},children:[(0,U.jsx)(P.Z,{id:"form-dialog-title",children:(0,U.jsx)(p.Z,{variant:"h3",gutterBottom:!0,children:"Create a Asset"})}),(0,U.jsx)(W.Z,{children:(0,U.jsx)(f.Z,{spacing:3,children:(0,U.jsxs)(m.Z,{component:"form",onSubmit:ur(yr),children:[(0,U.jsx)(V.Z,{sx:{pt:4},children:(0,U.jsx)(m.Z,{sx:{m:-1.5},children:(0,U.jsxs)(f.Z,{spacing:3,mb:3,children:[(0,U.jsx)(H.Qr,{control:cr,name:"nameassets",defaultValue:"",rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsx)(D.Z,(0,n.Z)((0,n.Z)({},r),{},{label:"Name Assets",type:"text",error:void 0!==t,helperText:t?xr.asset[t.type]:""}))}}),(0,U.jsx)(H.Qr,{control:cr,name:"rfid",defaultValue:"",rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsxs)(E.Z,{error:void 0!==t,fullWidth:!0,children:[(0,U.jsx)(I.Z,{id:"demo-simple-select-label",children:"Rfid"}),(0,U.jsxs)(T.Z,(0,n.Z)((0,n.Z)({},r),{},{fullWidth:!0,labelId:"demo-simple-select-label",label:"Rfid",error:void 0!==t,children:[(0,U.jsx)(R.Z,{value:"",children:(0,U.jsx)("em",{children:"None"})}),re.map((function(e){return(0,U.jsx)(R.Z,{value:e.Rfid_rfid_address,children:e.Rfid_rfid_address},e.Rfid_rfid_address)}))]})),(0,U.jsx)(B.Z,{children:t?xr.rfid[t.type]:""})]})}}),(0,U.jsx)(H.Qr,{control:cr,name:"expirehour",defaultValue:"",rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsx)(D.Z,(0,n.Z)((0,n.Z)({},r),{},{type:"number",fullWidth:!0,label:"Expiration time",error:void 0!==t,helperText:t?xr.expiration[t.type]:""}))}})]})})}),(0,U.jsx)(j.Z,{}),(0,U.jsx)(L.Z,{children:(0,U.jsx)(Z.Z,{fullWidth:!0,variant:"text",type:"submit",children:"Create a new user"})})]})})})]}),(0,U.jsxs)(q.Z,{open:ze,onClose:function(){Fe(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"1000px",paddingTop:"20px"}}},children:[(0,U.jsx)(P.Z,{id:"form-dialog-title",children:(0,U.jsx)(p.Z,{sx:{paddingLeft:"30px",paddingTop:"10px"},variant:"h4",gutterBottom:!0,children:"Edit Asset"})}),(0,U.jsx)(W.Z,{children:(0,U.jsxs)(m.Z,{component:"form",onSubmit:ur(wr),children:[(0,U.jsx)(V.Z,{sx:{pt:4},children:(0,U.jsx)(m.Z,{sx:{m:-1.5},children:(0,U.jsxs)(f.Z,{spacing:2,mb:3,children:[(0,U.jsx)(H.Qr,{control:cr,name:"editassetname",defaultValue:$e.name_assets,rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsx)(D.Z,(0,n.Z)({defaultValue:$e.name,type:"text",fullWidth:!0,label:"Name Assets",error:void 0!==t,helperText:t?xr.assets[t.type]:""},r))}}),(0,U.jsx)(H.Qr,{control:cr,name:"editexpirehour",defaultValue:$e.expire_hour,rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsx)(D.Z,(0,n.Z)({defaultValue:$e.expire_hour,type:"text",fullWidth:!0,label:"Expiration time (hr)",error:void 0!==t,helperText:t?xr.expiration[t.type]:""},r))}}),(0,U.jsx)(H.Qr,{control:cr,name:"editrfid",defaultValue:$e.rfid_address,rules:{required:!0},render:function(e){var r=e.field,t=e.fieldState.error;return(0,U.jsxs)(E.Z,{error:void 0!==t,fullWidth:!0,children:[(0,U.jsx)(I.Z,{id:"demo-simple-select-label",children:"Rfid"}),(0,U.jsxs)(T.Z,(0,n.Z)((0,n.Z)({},r),{},{fullWidth:!0,labelId:"demo-simple-select-label",label:"Rfid",defaultValue:$e.rfid_address,error:void 0!==t,children:[(0,U.jsx)(R.Z,{value:"",children:(0,U.jsx)("em",{children:"None"})}),(0,U.jsx)(R.Z,{value:$e.rfid_address,children:$e.rfid_address}),re.map((function(e){return(0,U.jsx)(R.Z,{value:e.Rfid_rfid_address,children:e.Rfid_rfid_address},e.Rfid_rfid_address)}))]})),(0,U.jsx)(B.Z,{children:t?xr.rfid[t.type]:""})]})}})]})})}),(0,U.jsx)(j.Z,{}),(0,U.jsx)(L.Z,{children:(0,U.jsx)(Z.Z,{fullWidth:!0,variant:"text",type:"submit",children:"Save Changes"})})]})})]}),(0,U.jsx)(O.Z,{open:Ye,autoHideDuration:3e3,onClose:mr,children:(0,U.jsxs)(Q.Z,{onClose:mr,variant:"filled",severity:nr.color,sx:{width:"100%"},children:[nr.message,"!"]})})]})}}}]);
//# sourceMappingURL=206.76307227.chunk.js.map